set_Royale <- function(key){
# Check inputs ---------------------------------------------------------------
if (class(key) != 'character'){
stop('Please provide a valid key.')
}
# Add to environment ---------------------------------------------------------
Sys.setenv(CRAPI = key)
}
set_Royale('eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiIsImtpZCI6IjI4YTMxOGY3LTAwMDAtYTFlYi03ZmExLTJjNzQzM2M2Y2NhNSJ9.eyJpc3MiOiJzdXBlcmNlbGwiLCJhdWQiOiJzdXBlcmNlbGw6Z2FtZWFwaSIsImp0aSI6ImNmOTViM2YyLWExODQtNDE5NS1hNDI3LWU0NzBjMjVjMzIxNyIsImlhdCI6MTU5MDEwNzQ4MCwic3ViIjoiZGV2ZWxvcGVyLzcxZmE5OTE1LTYwMjMtYTY3NC0yNDNkLWUyMTk3NzY3YjczZiIsInNjb3BlcyI6WyJyb3lhbGUiXSwibGltaXRzIjpbeyJ0aWVyIjoiZGV2ZWxvcGVyL3NpbHZlciIsInR5cGUiOiJ0aHJvdHRsaW5nIn0seyJjaWRycyI6WyI3NC4xMDEuMjM0LjIzNiJdLCJ0eXBlIjoiY2xpZW50In1dfQ.1YpbYRlV4qMfqzrQUXEWHAE-_HblDb9wUIv4HAcVJUI5VKRco1uui-0IL2tXVyb6vnEfXNW5AYTAtGF-djpkOw')
source('~/GitHub/royaleR/R/get_player.R')
source('~/GitHub/royaleR/R/get_player.R')
get_player()
source('~/GitHub/royaleR/R/get_Royale.R')
test_player <- get_player()
library(httr)
test_player <- get_player()
#' Checks status code
#'
#' Check what the api returned
#'
#' @param s status code to check
#'
#' @return
#' Status Error Message
#'
#' @export
status_error <- function(s) {
if (s == 400){
return('400: Bad Request -- Your request sucks.')
} else if (s == 401){
return('401: Unauthorized -- No authentication was provided, or key invalid.')
} else if (s == 404) {
return('404: Not Found -- The specified player / clan cannot be found. Could be invalid tags.')
} else if (s == 417) {
return('417: Expectation Failed -- Clan not tracked.')
} else if (s == 429) {
return('429:	Too Many Requests -- You have hit the API Ratelimit.')
} else if (s == 500) {
return(  '500:	Internal Server Error -- RoyaleAPI has a problem with their server. Try again later.')
} else if (s == 501) {
return(  '501:	Not Implemented Yet -- RoyaleAPI has yet to implement this feature in v3 of the API.')
} else if (s == 503) {
return(  '503:	Service Unavailable -- RoyaleAPI is temporarily offline for maintenance. Please try again later.')
} else if (s == 522) {
return(  '522:	:Service Unavailable -- RoyaleAPI is temporarily offline. Please try again later.')
} else {
return(paste0('Unknown error. Status is',s))
}
}
test_player <- get_player()
source('~/GitHub/royaleR/R/get_player.R')
test_player <- get_player()
source('~/GitHub/royaleR/R/get_endpoints.R')
View(test_player)
source('~/GitHub/royaleR/R/get_clan_war_log.R')
get_clan_war_log()
source('~/GitHub/royaleR/R/get_clan_war_log.R')
test_clan <- get_clan_war_log()
library(tidyverse)
test_clan <- get_clan_war_log()
test_clan
View(test_clan)
source('~/GitHub/royaleR/R/get_current_war.R')
source('~/GitHub/royaleR/R/get_current_war.R')
test_war <- get_current_war()
source('~/GitHub/royaleR/R/get_current_war.R')
test_war <- get_current_war()
View(test_war)
View(test_clan)
test_war_log <- get_clan_war_log()
View(get_clan_war_log)
View(test_war_log)
